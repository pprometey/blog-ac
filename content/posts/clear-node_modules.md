+++ 
draft = false
date = 2021-03-05T16:50:03+06:00
title = "Удалить все папки node_modules в проектах"
description = "Рекурсивное удаление всех папок node_modules из всхе проектов"
slug = ""
tags = ["node_modules", "front-end разработка", "инструменты разработки" ]
categories = ["Front-end разработка"]
series = []
+++

Люди делятся на 2 категории. Те кто терял данные, и тем кому это еще предстоит. Я уже давно в первой категории, поэтому переодически делаю бекапы. Но у фронтенд разработки есть одна неприятная особенность - это папка node_modules, куда пакетный менеджер npm устанавливате все зависимости. Страшен даже не столько объем этой папки, сколько то количество файлов, которая она содержит. Это могут быть сотни тысяч мелких файлов, если проект достаточно болшой и много зависимостей. А таких проекто вможет быть множество. И тогда копирование таких папок превращается в ад. Да и зачем хранить в старых проектах этот локальынй кеш зависимостей, если хи можно в любой момент закачать снова? Только места на диске занимают. 

Есть несколько способов удалить удалить все папки node_modules из корневой папки с проектами. 

### Вариант 1. RimRaf

Для начала устанавливаем утилиту RimRaf
```
npm install rimraf -g
```

Затем переходим в корневую папку с проектами:
```
cd d:/projects
```

И запускаем рекурсивную команду удаления всех вложенных папок `node_modules`, запускается команда из оболочки git-bash
```
find . -name "node_modules" -type d -prune -exec rimraf '{}' +
```
После выполения скрипта все папки с `node_modules` будут удалены. 

### Вариант 2. PowerShell

В PowerShell выполнить команду:
```
dir -Path . -Filter node_modules -recurse | foreach {echo $_.fullname; rm -r -Force $_.fullname}
```